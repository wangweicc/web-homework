<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大美安徽 - 中国安徽文化旅游网</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/aos/2.3.4/aos.css">
    <style>
        :root {
            --primary-color: #2d5f2a;
            --secondary-color: #8ba989;
        }

        body {
            font-family: 'Microsoft YaHei', '华文行楷', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e6edea 100%);
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            border-radius: 0 0 18px 18px;
            min-height: 70px;
        }

        .navbar .navbar-brand img {
            height: 50px;
        }

        .carousel-item {
            height: 500px;
            background-size: cover;
            background-position: center;
            border-radius: 24px;
            overflow: hidden;
        }

        .carousel-caption {
            background: rgba(45, 95, 42, 0.5);
            border-radius: 12px;
            padding: 24px 36px;
        }

        .carousel-img {
            width: 100%;
            height: 500px;
            object-fit: cover;
            object-position: center;
        }

        .feature-card {
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            border-radius: 18px;
            overflow: hidden;
            background: linear-gradient(120deg, #f8f9fa 60%, #e6edea 100%);
            box-shadow: 0 4px 24px rgba(45, 95, 42, 0.08);
        }

        .feature-card:hover {
            transform: translateY(-12px) scale(1.03);
            box-shadow: 0 16px 32px rgba(45, 95, 42, 0.18);
        }

        .section-title {
            color: var(--primary-color);
            font-weight: bold;
            font-size: 2.2rem;
            letter-spacing: 2px;
            position: relative;
            padding-bottom: 18px;
            margin-bottom: 48px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }

        .culture-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 18px;
            padding: 28px;
            margin: 18px 0;
            box-shadow: 0 2px 12px rgba(45, 95, 42, 0.06);
        }

        footer {
            background: var(--primary-color);
            color: white;
            padding: 8px 0 1px 0;
            border-radius: 0;
        }

        #homeCarousel {
            margin-top: 80px;
        }

        @media (max-width: 768px) {
            .carousel-item {
                height: 300px;
            }

            .carousel-caption {
                padding: 12px 8px;
            }
        }
    </style>
</head>

<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="logo.png" alt="大美安徽" height="40"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#home">首页</a></li>
                    <li class="nav-item"><a class="nav-link" href="scenery.html">山水安徽</a></li>
                    <li class="nav-item"><a class="nav-link" href="culture.html">人文安徽</a></li>
                    <li class="nav-item"><a class="nav-link" href="food.html">美食安徽</a></li>
                    <!-- 新增登录链接 -->
                    <li class="nav-item" id="login-nav-item">
                        <a class="nav-link" href="login.html">登录/注册</a>
                    </li>
                    <li class="nav-item dropdown d-none" id="user-nav-item">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span id="nav-username"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#" id="logout-btn">退出</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 轮播图 -->
    <div id="homeCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="pictures/lunbo1.jpg" class="d-block w-100 carousel-img" alt="轮播1">
            </div>
            <div class="carousel-item">
                <img src="pictures/lunbo2.jpg" class="d-block w-100 carousel-img" alt="轮播2">
            </div>
            <div class="carousel-item">
                <img src="pictures/lunbo3.jpg" class="d-block w-100 carousel-img" alt="轮播3">
            </div>
            <div class="carousel-item">
                <img src="pictures/lunbo4.jpg" class="d-block w-100 carousel-img" alt="轮播4">
            </div>
            <div class="carousel-item">
                <img src="pictures/lunbo5.jpg" class="d-block w-100 carousel-img" alt="轮播5">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">上一张</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">下一张</span>
        </button>
    </div>

    <!-- 安徽概览 -->
    <section id="about" class="container py-5" data-aos="fade-up">
        <div class="row justify-content-center">
            <div class="col-12">
                <h2 class="text-center section-title">安徽概览</h2>
            </div>
            <div class="col-md-8">
                <p>安徽，简称"皖"，地处中国华东地区，拥有丰富的自然资源和深厚的历史文化底蕴。省会合肥，著名景点有黄山、宏村等。</p>
                <ul style="max-width: 400px; margin: 0 auto;">
                    <li>地理位置：长江、淮河流域</li>
                    <li>人口：6,000万+</li>
                    <li>主要城市：合肥、芜湖、安庆等</li>
                </ul>
            </div>
            <div class="col-md-4 d-flex align-items-center justify-content-center">
                <img src="pictures/map.jpg" alt="安徽地图" class="img-fluid rounded shadow map-img"
                    style="max-width: 220px; cursor: pointer;"
                    onerror="this.onerror=null;this.src='picture/map.png';this.alt='地图未找到';">
            </div>
        </div>
    </section>

    <!-- 地图放大预览弹窗 -->
    <div id="mapModal"
        style="display:none;position:fixed;z-index:2000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;">
        <img id="mapModalImg" src="pictures/map.jpg" alt="安徽地图大图"
            style="max-width:90vw;max-height:90vh;border-radius:18px;box-shadow:0 8px 32px rgba(0,0,0,0.25);background:#fff;">
    </div>

    <!-- 专题推荐 -->
    <section class="container py-4" id="special-topics" data-aos="fade-up">
        <h2 class="text-center section-title">专题推荐</h2>
        <div class="row justify-content-center g-3">
            <div class="col-6 col-md-3">
                <a href="spring-flower.html" class="text-decoration-none">
                    <div class="card h-100 shadow-sm">
                        <img src="spring-flower.jpg" class="card-img-top" alt="春季赏花">
                        <div class="card-body text-center">
                            <h5 class="card-title">春季赏花</h5>
                            <p class="card-text small text-muted">踏青赏花好时节</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-3">
                <a href="summer-cool.html" class="text-decoration-none">
                    <div class="card h-100 shadow-sm">
                        <img src="summer-cool.jpg" class="card-img-top" alt="夏季避暑">
                        <div class="card-body text-center">
                            <h5 class="card-title">夏季避暑胜地</h5>
                            <p class="card-text small text-muted">清凉一夏，畅游安徽</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-3">
                <a href="spring-festival.html" class="text-decoration-none">
                    <div class="card h-100 shadow-sm">
                        <img src="spring-festival.jpg" class="card-img-top" alt="春节专题">
                        <div class="card-body text-center">
                            <h5 class="card-title">春节专题</h5>
                            <p class="card-text small text-muted">年味安徽，民俗盛宴</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-6 col-md-3">
                <a href="dragonboat.html" class="text-decoration-none">
                    <div class="card h-100 shadow-sm">
                        <img src="dragonboat.jpg" class="card-img-top" alt="端午节专题">
                        <div class="card-body text-center">
                            <h5 class="card-title">端午节专题</h5>
                            <p class="card-text small text-muted">粽香端午，赛龙舟</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- 互动交流 -->
    <section class="container py-5" id="contact" data-aos="fade-up">
        <h2 class="text-center section-title">互动交流</h2>
        <form id="messageForm">
            <div class="mb-3">
                <label for="userMessage" class="form-label">留言</label>
                <textarea class="form-control" id="userMessage" rows="3" placeholder="欢迎留言..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">提交</button>
        </form>
        <div class="mt-4">
            <p>联系方式：contact@anhui.com</p>
        </div>
        <div class="mt-4">
            <h5>留言展示：</h5>
            <ul id="messageList" class="list-group"></ul>
        </div>
    </section>

    <!-- 页脚 -->
    <footer>
        <div class="container text-center">
            <p>&copy; 2025 大美安徽文化旅游网</p>
            <p>皖ICP备12345678号</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // 导航栏交互
        window.addEventListener('scroll', function () {
            if (window.scrollY > 100) {
                document.querySelector('.navbar').style.backgroundColor = 'rgba(255, 255, 255, 0.98)';
            } else {
                document.querySelector('.navbar').style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
            }
        });

        // 登录状态切换显示用户名和退出
        function updateNavUser() {
            var isLogin = window.localStorage.getItem('isLogin');
            var regUser = window.localStorage.getItem('registerUser');
            var loginNav = document.getElementById('login-nav-item');
            var userNav = document.getElementById('user-nav-item');
            if (isLogin === '1' && regUser) {
                var userObj = JSON.parse(regUser);
                document.getElementById('nav-username').textContent = userObj.username;
                loginNav.classList.add('d-none');
                userNav.classList.remove('d-none');
            } else {
                loginNav.classList.remove('d-none');
                userNav.classList.add('d-none');
            }
        }
        updateNavUser();

        // 退出按钮
        var logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function (e) {
                e.preventDefault();
                window.localStorage.removeItem('isLogin');
                updateNavUser();
            });
        }

        // 留言功能
        function getCurrentUsername() {
            var regUser = window.localStorage.getItem('registerUser');
            var isLogin = window.localStorage.getItem('isLogin');
            if (isLogin === '1' && regUser) {
                var userObj = JSON.parse(regUser);
                return userObj.username || '匿名';
            }
            return '匿名';
        }
        function loadMessages() {
            var messages = JSON.parse(localStorage.getItem('messages') || '[]');
            var messageList = document.getElementById('messageList');
            messageList.innerHTML = '';
            messages.forEach(function (msg, idx) {
                var li = document.createElement('li');
                li.className = 'list-group-item';
                var floor = messages.length - idx;
                li.innerHTML = `<strong>${msg.username || '匿名'}</strong> <span class="text-secondary small">${msg.time}</span> <span class="badge bg-secondary float-end">${floor}楼</span><br>${msg.text}`;
                messageList.appendChild(li);
            });
        }
        document.getElementById('messageForm').addEventListener('submit', function (e) {
            e.preventDefault();
            var isLogin = window.localStorage.getItem('isLogin');
            if (isLogin !== '1') {
                alert('请先进行登录再留言');
                return;
            }
            var msg = document.getElementById('userMessage').value.trim();
            var username = getCurrentUsername();
            if (msg) {
                var messages = JSON.parse(localStorage.getItem('messages') || '[]');
                var now = new Date();
                var time = now.getFullYear() + '-' + (now.getMonth() + 1).toString().padStart(2, '0') + '-' + now.getDate().toString().padStart(2, '0') + ' ' + now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0') + ':' + now.getSeconds().toString().padStart(2, '0');
                messages.unshift({ text: msg, username: username, time: time });
                localStorage.setItem('messages', JSON.stringify(messages));
                document.getElementById('userMessage').value = '';
                loadMessages();
                alert('提交成功');
            }
        });
        loadMessages();

        // 初始化AOS动画
        AOS.init({
            duration: 900,
            once: false,
            offset: 80
        });

        // 地图图片点击放大预览
        document.querySelector('.map-img').addEventListener('click', function () {
            document.getElementById('mapModal').style.display = 'flex';
        });
        document.getElementById('mapModal').addEventListener('click', function (e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });
    </script>
</body>

</html>